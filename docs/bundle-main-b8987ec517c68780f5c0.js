var Demo=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e,n,t){},,function(e,n,t){"use strict";t.r(n);t(0);function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=/^(#)?([0-9a-f]+)$/i;function i(e){var n=e.toString(16);return 1===n.length?"0"+n:n}function a(e,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+6*(n-e)*t:t<.5?n:t<2/3?e+(n-e)*(2/3-t)*6:e}var u,f,s,l,c,d,v,h,m,g,p,y,b=function(){function e(n,t,r){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.r=void 0,this.g=void 0,this.b=void 0,this.r=n,this.g=t,this.b=r}var n,t,u;return n=e,u=[{key:"validate",value:function(n){var t;if("string"!=typeof n||!(t=o.exec(n)))return null;var r=t[2];return 3===r.length?new e(17*parseInt(r[0],16),17*parseInt(r[1],16),17*parseInt(r[2],16)):6===r.length?new e(parseInt(r.substring(0,2),16),parseInt(r.substring(2,4),16),parseInt(r.substring(4,6),16)):null}},{key:"from",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(Array.isArray(n)){for(var r=n.length,o=new Float32Array(3*r),i=t/255,a=0,u=0;u<r;u++){var f=e.from(n[u]);o[a++]=f.r*i,o[a++]=f.g*i,o[a++]=f.b*i}return o}var s=e.validate(n);if(!s)throw new Error("Invalid color "+n);return s.r*=t,s.g*=t,s.b*=t,s}},{key:"fromHSL",value:function(n,t,r){var o,i,u;if(t<=0)o=i=u=r;else{var f=r<.5?r*(1+t):r+t-r*t,s=2*r-f;o=a(s,f,n+1/3),i=a(s,f,n),u=a(s,f,n-1/3)}return new e(Math.round(255*o),Math.round(255*i),Math.round(255*u))}}],(t=[{key:"mix",value:function(n,t,r){return r||(r=new e),r.r=this.r+(n.r-this.r)*t|0,r.g=this.g+(n.g-this.g)*t|0,r.b=this.b+(n.b-this.b)*t|0,r}},{key:"multiply",value:function(n,t){return t||(t=new e),t.r=this.r*n,t.g=this.g*n,t.b=this.b*n,t}},{key:"toRGBHex",value:function(){return"#"+i(this.r)+i(this.g)+i(this.b)}},{key:"toHex",value:function(){return(this.r<<16)+(this.g<<8)+this.b}}])&&r(n.prototype,t),u&&r(n,u),e}(),_=(Math.sqrt(5),Math.PI,{width:0,height:0}),w=0,x=0;function A(){var e=-16&window.innerWidth,n=0|window.innerHeight;_.width=e,_.height=n,u.width=e,u.height=n,w=e/2,x=n/2,f.viewport(0,0,u.width,u.height)}function S(e,n,t){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;console.error(e.getShaderInfoLog(r)),e.deleteShader(r)}function L(e){var n=m?1:-1;f.uniform1f(c,e/1e3),f.uniform2f(d,_.width,_.height),f.uniform4f(v,w,_.height-x,g*n,(_.height-p)*n),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT);var t=f.TRIANGLES;f.drawArrays(t,0,6),requestAnimationFrame(L)}function E(e){m&&(w=e.clientX-y.left+self.pageXOffset,x=e.clientY-y.top+self.pageYOffset)}function I(e){m=!0,g=e.clientX-y.left+self.pageXOffset,p=e.clientY-y.top+self.pageYOffset,w=g,x=p}function P(e){m=!1}window.onload=function(){requestAnimationFrame(L)},window.onload=function(){if(u=document.getElementById("screen"),!(f=u.getContext("webgl2")))return u.parentNode.removeChild(u),e="Cannot run shader. Your browser does not support WebGL2.",void(document.getElementById("out").innerHTML="<p>"+e+"</p>");var e,n=S(f,f.VERTEX_SHADER,"#version 300 es\n#define GLSLIFY 1\n\n// an attribute is an input (in) to a vertex shader.\n// It will receive data from a buffer\nin vec4 a_position;\n\n// all shaders have a main function\nvoid main() {\n\n    // gl_Position is a special variable a vertex shader\n    // is responsible for setting\n    gl_Position = a_position;\n}\n"),t=S(f,f.FRAGMENT_SHADER,"#version 300 es\nprecision lowp float;\n#define GLSLIFY 1\n\nuniform float u_time;\nuniform vec2 u_resolution;\nuniform vec4 u_mouse;\nuniform vec3 u_palette[6];\n\nconst float pi = 3.141592653589793;\nconst float tau = pi * 2.0;\nconst float hpi = pi * 0.5;\nconst float phi = (1.0+sqrt(5.0))/2.0;\n\nout vec4 outColor;\n\n#define MAX_STEPS 100\n#define MAX_DIST 50.\n#define SURF_DIST .001\n\n#define ROT(a) mat2(cos(a), -sin(a), sin(a), cos(a))\n#define SHEARX(a) mat2(1, 0, sin(a), 1)\n\nconst float smoothness = 0.01;\n\nvec3 getPaletteColor(float id)\n{\n    int last = u_palette.length() - 1;\n    //return id < float(last) ? mix(u_palette[int(id)], u_palette[int(id) + 1], fract(id)) : u_palette[last];\n    return mix(u_palette[int(id)], u_palette[int(id) + 1], fract(id));\n}\n// 2d rotation matrix helper\nmat2 Rot(float a) {\n    float x = cos(a);\n    float y = sin(a);\n    return mat2(x, -y, y, x);\n}\n\nvoid main(void)\n{\n    vec2 uv = (gl_FragCoord.xy-.5*u_resolution.xy)/u_resolution.y;\n    //vec2 m = u_mouse.xy/u_resolution.xy;\n\n    uv *= Rot(u_time * 0.23);\n\n    float grid = mix(18.0, 4.0, cos(u_time * 0.17) * 0.5 + 0.5 );\n\n    vec2 pos = fract(uv * grid) - 0.5;\n    vec2 id = floor(uv * grid);\n\n    float c = 0.0;\n    for (float y = -1.0; y <= 1.0; y++){\n        for (float x = -1.0; x <= 1.0; x++) {\n\n            vec2 off = vec2(x,y);\n            float d = length(pos - off);\n\n            float d2 = length(id + off) * mix(1.0,10.0, 0.5 + cos(u_time * 0.07) * 0.5);\n            float size = mix(0.5,1.5, 0.5 + sin(u_time + d2) * 0.5);\n            c += smoothstep(size + smoothness, size - smoothness,d);\n        }\n    }\n    outColor = vec4(\n        u_palette[int(mod(c,4.0))],\n        1.0\n    );\n\n    //outColor = vec4(1,0,1,1);\n}\n");l=function(e,n,t){var r=e.createProgram();if(e.attachShader(r,n),e.attachShader(r,t),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))return r;console.error(e.getProgramInfoLog(r)),e.deleteProgram(r)}(f,n,t);var r=f.getAttribLocation(l,"a_position"),o=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,o);f.bufferData(f.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,1,1,-1]),f.STATIC_DRAW),s=f.createVertexArray(),f.bindVertexArray(s),f.enableVertexAttribArray(r);var i=f.FLOAT;f.vertexAttribPointer(r,2,i,!1,0,0),A(),f.viewport(0,0,f.canvas.width,f.canvas.height),c=f.getUniformLocation(l,"u_time"),d=f.getUniformLocation(l,"u_resolution"),v=f.getUniformLocation(l,"u_mouse"),h=f.getUniformLocation(l,"u_palette"),f.useProgram(l),f.bindVertexArray(s),window.addEventListener("resize",A,!0),u.addEventListener("mousemove",E,!0),u.addEventListener("mousedown",I,!0),document.addEventListener("mouseup",P,!0),y=document.getElementById("screen").getBoundingClientRect();var a=b.from(["#000","#e71a34","#fff","#0a166d"],1);console.log("PALETTE",a),f.uniform3fv(h,a),requestAnimationFrame(L)}}]);
//# sourceMappingURL=bundle-main-b8987ec517c68780f5c0.js.map